# <center>第四章 OS X 和 iOS 应用

对用户而言，应用不过是跟系统里的文件一样的东西。毕竟，电脑是为用户设计，而安装的程序又定义了电脑能够做什么。

作为一个开发者，很容易陷入构建app的细节－类，方法和结构。不过用户只关心你应用的卖点。

在本章，你将了解到OS X 和iOS 应用如何构造，应用能够做些什么，不能做些什么。

###  什么是应用

iOS 和OS X 应用的打包方式和其他平台的很不同，尤其Windows平台。在其他平台，工程编译后是一个包含编译代码的二进制文件，之后由开发者将二进制文件和资源文件打包。在Linux，你需要打包文件，在Window，通常要创建一个安装程序。

OS X 和iOS 则采用另一种方法。即使用所谓‘包’的概念－对用户而言是一个单独文件。
很多文档格式化是用包作为存储和组织数据的有效途径，因为将数据块不做不同的文件存储意味程序无需实现解压单独文件的逻辑。

所以应用实际是包含编译好的二进制文件和它需要的资源文件。OS X 和iOS 应用的结构稍有不同，不过如何打包程序的原理是一样的。你可以在Finder中右击应用去展示其内部包含的内容。

当你用XCode 编译和创建应用时，XCode 会创建一个包，并复制任何需要的资源到里面。如果你创建的是一个MAC 应用，你可以压缩它并发送到任何人去运行它。在iOS上就有点不同，因为应用必须有代码签名并且放到应用商店后才能在设备运行。

这样做的好处之一，就是应用可以在Mac任意变更目录。

### 应用，框架，工具和其他

XCode 不但可以创建应用，还可以创建框架。框架和应用的结构差不多，同样有二进制文件和资源文件，但不是独立的且设计给其他应用使用。

Mac上一个典型的例子就是 AppKit 框架，在iOS上等同的是UIKit 框架。

### 应用由什么组成？

组建以一个iOS 或 OS X应用至少包括两样：

*  已编译的二进制文件
*  描述app 系统信息的文件

已编译的二进制文件是由XCode编译并链接。
而描述信息会保存在Info.plist文件，其包含：

*  应用图标名
*  应用可以打开何种类型文件
*  已编译的二进制文件名
*  应用启动时加载的接口文件名
*  语言支持
*  应用是否支持多任务（用于iOS）
*  应用归属Mac 应用商店何种分类（用于OS X）

这个文件非常重要，如果你移除了它，应用就无法启动。

应用同时也包含应编译进来的资源文件－－图片，文件，音频和其他通过XCode工程添加进来的项目。应用可以在运行时引用这些资源。

你可以通过一下步骤了解OS X应用的结构：

1.  打开XCode，创建一个新的OS X 应用，一切默认后，保存。
2.  编译。
3.  在导航栏，你可以看到编译后产生的.app 文件，右击文件，选择在Finder 中打开，就会展示app包含什么了。
4. 右击应用，选择 ‘显示包内容’，Finder 就会显示其内容。

在iOS上，所有东西都包含在包文件的根目录，而OS X更为严格点。

比如一个名为MyApp 的Mac应用的结构如下：

MyApp.app 包的最上层
Contents 一个包含应用的文件夹
Info.plist 应用的系统信息描述
MacOS 一个包含已经编译的二进制文件的文件夹
PkgInfo 描述应用作者和这是个什么应用的文件。
Resources 一个包含已编译的资源文件的文件夹

而在iOS 的结构则如下：

MyApp 已编译的二进制文件
Info.plist 描述应用的系统信息的文件
Default.png 应用启动时默认展示的图片
Default@2x.png Default.png 的高分辨率版本
embedded。mobileprovision 描述标识应用可在设备上运行的文件
Entitlements.plist 描述应用可以做什么和不可以做什么的文件


因为你的应用可能安装在系统的任何地方，所以你的代码不可以用绝对路径寻找资源文件，幸运的是，Cocoa 已经考虑到这一点并指导你如何做。

### 使用NSBundle 查找应用的资源



	









